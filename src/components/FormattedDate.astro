---
import { getFormattedDate } from "@/utils/date";

const { date, dateTimeOptions, showTooltip, ...attrs } = Astro.props;

const postDate = getFormattedDate(date, dateTimeOptions);

const tooltipDateTimeOptions = {
  hour: "2-digit",
  minute: "2-digit",
  second: "2-digit",
};

const postTooltipDateTime = getFormattedDate(date, {
  ...dateTimeOptions,
  ...tooltipDateTimeOptions,
});

const tooltipAttr = showTooltip && {
  title: postTooltipDateTime,
};
---

<time datetime={date.toISOString()} {...tooltipAttr} {...attrs}>
  {postDate}
</time>
